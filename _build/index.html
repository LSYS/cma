<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="LSYS">

<title>Cma</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Overview</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/lsys/cma" rel="" target=""><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools tools-wide">
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="./Cma.pdf">
              <i class="bi bi-bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="./Cma.epub">
              <i class="bi bi-bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="./Cma.docx">
              <i class="bi bi-bi-file-word pe-1"></i>
            Download Docx
            </a>
          </li>
      </ul>
    </div>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-1" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-1">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#statement-of-need" id="toc-statement-of-need" class="nav-link active" data-scroll-target="#statement-of-need">Statement of need</a></li>
  <li><a href="#sec-un-mediated-treatment-effects" id="toc-sec-un-mediated-treatment-effects" class="nav-link" data-scroll-target="#sec-un-mediated-treatment-effects">(Un-mediated) Treatment effects</a></li>
  <li><a href="#mediation-through-the-lens-of-potential-outcomes" id="toc-mediation-through-the-lens-of-potential-outcomes" class="nav-link" data-scroll-target="#mediation-through-the-lens-of-potential-outcomes">Mediation through the lens of potential outcomes</a></li>
  <li><a href="#set-a-adte-and-aite" id="toc-set-a-adte-and-aite" class="nav-link" data-scroll-target="#set-a-adte-and-aite">Set A: ADTE and AITE</a></li>
  <li><a href="#set-b-adtet-and-aitec" id="toc-set-b-adtet-and-aitec" class="nav-link" data-scroll-target="#set-b-adtet-and-aitec">Set B: ADTET and AITEC</a></li>
  <li><a href="#sec-classical-ma" id="toc-sec-classical-ma" class="nav-link" data-scroll-target="#sec-classical-ma">Classical mediation analysis</a></li>
  <li><a href="#classical-mediation-analysis-common-grounds" id="toc-classical-mediation-analysis-common-grounds" class="nav-link" data-scroll-target="#classical-mediation-analysis-common-grounds">Classical mediation analysis: Common grounds</a></li>
  <li><a href="#sec-bias-bounds-assumptions" id="toc-sec-bias-bounds-assumptions" class="nav-link" data-scroll-target="#sec-bias-bounds-assumptions">Biases, bounds, and assumptions</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Cma</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>LSYS </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<div class="hidden">
<p><span class="math display">\[
\newcommand{\ind}{\perp\!\!\!\!\perp}
\]</span></p>
<p><span class="math display">\[
\newcommand{\E}{\mathbb E}
\]</span></p>
</div>
<p><strong>passes</strong></p>
<ul>
<li><input type="checkbox" checked="">make certain | bigger</li>
<li>get trends of ma pubmed + (GS + psychinfo)</li>
<li><input type="checkbox" checked="">make graph of AITEC + ADTET</li>
<li><input type="checkbox" checked="">prove AITE [PO]</li>
<li><input type="checkbox" checked="">prove AITE [Algebra]</li>
<li><input type="checkbox" checked="">product-coef from PO</li>
<li><input type="checkbox" checked="">direct effect from PO (supp)</li>
<li><input type="checkbox" checked="">Add GH icon</li>
<li><input type="checkbox" checked="">change expectations</li>
<li><input type="checkbox" checked="">use the delta and eta definitions of direct + indirect effects</li>
<li><input type="checkbox" checked="">Change math delimiters</li>
<li><input type="checkbox" checked="">Heterogeneities</li>
<li><input type="checkbox" checked="">Moderation + mediation</li>
<li><input type="checkbox" checked="">Instruments</li>
<li><input type="checkbox" checked="">Fix all the DAGs and make the style consistent</li>
<li><input type="checkbox" checked="">brief note on the temporality of</li>
<li>pass through figure captions</li>
<li>pass to see where <code>syn</code> makes sense</li>
</ul>
<!-- Statement of need -->
<section id="statement-of-need" class="level2">
<h2 class="anchored" data-anchor-id="statement-of-need">Statement of need</h2>
<p>Mediation analysis apparently is not new. But it is to me. It aims to shed light on mechanisms between some exposure of interest and some outcome of interest. Some funding agencies (e.g., NIH) for research grants even encourage or require mediation analyses of interventions to understand mechanisms <span class="citation" data-cites="Nguyen2021-oj">(<a href="#ref-Nguyen2021-oj" role="doc-biblioref">Nguyen, Schmid, and Stuart 2021</a>)</span>. “Mediation analyses” is also increasingly popular. <strong>FIGURE</strong> should sum up this statement of need.</p>
<p>Since results from mediation analysis may influence policy and practice, I thought I should at least gain some scientific literacy on it. Here’s my dive into mediation analysis. Buckle up.</p>
<!-- Some notes on treatment effects -->
</section>
<section id="sec-un-mediated-treatment-effects" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="sec-un-mediated-treatment-effects">(Un-mediated) Treatment effects</h2>
<p>First, to set some context with the causal inference approach with (model-free) potential outcomes (<code>PO</code>) without mediation. In a simple setup with just treatment <span class="math inline">\(T\)</span> and an outcome of interes <span class="math inline">\(Y\)</span> (without the mediator <span class="math inline">\(M\)</span> for now), the main estimand of interest is the average treatment effect (<code>ATE</code>) defined as <span id="eq-ate"><span class="math display">\[
\tau \equiv \E\big[Y(1)\big] - \E\big[Y(0)\big],
\tag{1}\]</span></span></p>
<p>for the simplest scenario where <span class="math inline">\(T\)</span> is a binary split: <span class="math display">\[
T = \begin{cases}
1 &amp; \text{if treated}, \\
0 &amp; \text{if untreated},
\end{cases}
\]</span></p>
<div class="page-columns page-full"><p>and where <span class="math inline">\(Y(1)\)</span> is the potential outcome with treatment (<span class="math inline">\(T=1\)</span>) and <span class="math inline">\(Y(0)\)</span> is the potential outcome without treatment (<span class="math inline">\(T=0\)</span>). For a given individual, only <span class="math inline">\(Y(1)\)</span> is observed with treatment. <span class="math inline">\(Y(0)\)</span> is the counterfactual.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn1"><p><sup>1</sup>&nbsp;Aka missing data as the ‘’Fundamental Problem of Causal Inference’’ <span class="citation" data-cites="Holland1986-yr">(<a href="#ref-Holland1986-yr" role="doc-biblioref">Holland 1986</a>)</span>.</p></li></div></div>
<div class="cell page-columns page-full" data-fig-width="300px" data-fig-height="60px">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">
<div id="fig-ate-dag" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div>
<svg width="300" height="60" viewbox="0.00 0.00 116.00 44.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>
ATE
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-40 112,-40 112,4 -4,4"></polygon> <!-- T --> <g id="node1" class="node">
<title>
T
</title>
<ellipse fill="none" stroke="black" cx="18" cy="-18" rx="18" ry="18"></ellipse> <text text-anchor="middle" x="18" y="-15" font-family="Times,serif" font-size="10.00">T</text> </g> <!-- Y --> <g id="node2" class="node">
<title>
Y
</title>
<ellipse fill="none" stroke="black" cx="90" cy="-18" rx="18" ry="18"></ellipse> <text text-anchor="middle" x="90" y="-15" font-family="Times,serif" font-size="10.00">Y</text> </g> <!-- T&#45;&gt;Y --> <g id="edge1" class="edge">
<title>
T-&gt;Y
</title>
<path fill="none" stroke="black" d="M36.3,-18C45.8,-18 57.65,-18 67.71,-18"></path> <polygon fill="black" stroke="black" points="67.9,-19.4 71.9,-18 67.9,-16.6 67.9,-19.4"></polygon> </g> </g>
</svg>
</div>
<figcaption class="figure-caption">Figure&nbsp;1: Graph for the typical estimand of interest for <span class="math inline">\(T\)</span> and <span class="math inline">\(Y\)</span>—the average treatment effect (<code>ATE</code>, <a href="#eq-ate">Equation&nbsp;<span>1</span></a>).</figcaption>
</figure>
</div>
</div></div></div>
<p>In reality, all we observe are outcomes conditional on the treatment <span class="math inline">\([Y|T=t]\)</span> and the <em>statistical solution</em> <span class="citation" data-cites="Holland1986-yr">(<a href="#ref-Holland1986-yr" role="doc-biblioref">Holland 1986</a>)</span> is via differences in averages <span class="math display">\[
\E\big[Y \big|T=1\big] - \E\big[Y\big|T=0\big]
\]</span></p>
<div class="page-columns page-full"><p>which reduces to <a href="#eq-ate">Equation&nbsp;<span>1</span></a> under certain conditions such as the <code>independence assumption</code>:<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn2"><p><sup>2</sup>&nbsp;The conditional analog is similar for some baseline set of observables <span class="math inline">\(\textbf{X}\)</span>: <span class="math inline">\(\big[Y_i(t) \ind T_i\big] \Big| \textbf{X}_i\)</span> <span class="citation" data-cites="Imbens2004-tp Angrist2009-oz">(e.g., <a href="#ref-Imbens2004-tp" role="doc-biblioref">Imbens 2004</a>; <a href="#ref-Angrist2009-oz" role="doc-biblioref">Angrist and Pischke 2009</a>)</span>. <em>This vignette will largely abstract away from <span class="math inline">\(\textbf{X}\)</span> for simplicity.</em></p></li></div></div>
<p><span id="eq-independence-assumption"><span class="math display">\[
Y_i(t)  \ind T_i.
\tag{2}\]</span></span></p>
<p>The simplest way to estimate <span class="math inline">\(\tau\)</span>, given the assumptions are met, is <span class="math display">\[
Y_i = \alpha + \tau T_i + \varepsilon_i.
\]</span></p>
<!-- Mediation through the lens of potential outcomes -->
</section>
<section id="mediation-through-the-lens-of-potential-outcomes" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="mediation-through-the-lens-of-potential-outcomes">Mediation through the lens of potential outcomes</h2>
<div class="page-columns page-full"><p>I was wondering how mediation analysis fit into this barebones potential outcomes framework. Most publications with mediation analysis are in the tradition of the Baron and Kenny tradition <span class="citation" data-cites="Judd1981-rn Baron1986-zn MacKinnon2012-jl">(<a href="#ref-Judd1981-rn" role="doc-biblioref">Judd and Kenny 1981</a>; <a href="#ref-Baron1986-zn" role="doc-biblioref">Baron and Kenny 1986</a>; <a href="#ref-MacKinnon2012-jl" role="doc-biblioref">MacKinnon 2012</a>)</span> (hereafter the classical mediation approach). Inherent in mediation analysis, whether made explicit or not, is a causal hypothesis <span class="citation" data-cites="Nguyen2021-oj">(<a href="#ref-Nguyen2021-oj" role="doc-biblioref">Nguyen, Schmid, and Stuart 2021</a>)</span>. T causes Y through M. There is, however, nothing in the classical approach that guarantees that uni-direction.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn3"><p><sup>3</sup>&nbsp;A “mediation analysis” without this explicit path (partly implied by the temporal ordering) is really just a “third variable analysis” which is an analysis of association <span class="citation" data-cites="Nguyen2021-oj">(<a href="#ref-Nguyen2021-oj" role="doc-biblioref">Nguyen, Schmid, and Stuart 2021</a>)</span>.</p></li></div></div>
<div class="page-columns page-full"><p>So mediation could benefit from, or deserves, explicit causal thinking <span class="citation" data-cites="Nguyen2021-oj">(<a href="#ref-Nguyen2021-oj" role="doc-biblioref">Nguyen, Schmid, and Stuart 2021</a>)</span>.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> Work to think of mediation in the causal inference framework started as early as <span class="citation" data-cites="Robins1992-ty">Robins and Greenland (<a href="#ref-Robins1992-ty" role="doc-biblioref">1992</a>)</span> and as recent (at time of writing) as <span class="citation" data-cites="Stuart2022-bm">Stuart et al. (<a href="#ref-Stuart2022-bm" role="doc-biblioref">2022</a>)</span> (here after the causal inference approach).<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> With a proposed mediation path through a variable <span class="math inline">\(M\)</span>, the analog of the <code>ATE</code> (from <a href="#eq-ate">Equation&nbsp;<span>1</span></a>) is now: <a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn4"><p><sup>4</sup>&nbsp;This is different from other regular regression analyses, where, depending on the target and asssumptions, both causal and conditional association interpretations are valid <span class="citation" data-cites="Nguyen2021-oj">(<a href="#ref-Nguyen2021-oj" role="doc-biblioref">Nguyen, Schmid, and Stuart 2021</a>)</span>.</p></li><li id="fn5"><p><sup>5</sup>&nbsp;Separate issue of temporal ordering of T, M, and Y (not covered in this vignette. See P49 of Stuart et al 2021 for more references.)</p></li><li id="fn6"><p><sup>6</sup>&nbsp;This PO notation is similar to that in <span class="citation" data-cites="Imbens2004-tp">Imbens (<a href="#ref-Imbens2004-tp" role="doc-biblioref">2004</a>)</span>, <span class="citation" data-cites="Angrist2009-oz">Angrist and Pischke (<a href="#ref-Angrist2009-oz" role="doc-biblioref">2009</a>)</span>, <span class="citation" data-cites="Imai2010-tg">Kosuke Imai, Keele, and Tingley (<a href="#ref-Imai2010-tg" role="doc-biblioref">2010</a>)</span>; <span class="citation" data-cites="Nguyen2021-oj">Nguyen, Schmid, and Stuart (<a href="#ref-Nguyen2021-oj" role="doc-biblioref">2021</a>)</span>, etc. <span class="citation" data-cites="Pearl2001-ct">Pearl (<a href="#ref-Pearl2001-ct" role="doc-biblioref">2001</a>)</span>, <span class="citation" data-cites="whatif">Hernan and Robins (<a href="#ref-whatif" role="doc-biblioref">2023</a>)</span>, etc., have slightly different PO notations.</p></li></div></div>
<p><span id="eq-ate2"><span class="math display">\[
\tau = \E\big[Y\left(1, M(1)\right)\big] - \E\big[Y(0, M(0))\big],
\tag{3}\]</span></span> where (like <span class="math inline">\(T\)</span>) the simplest scenario is: <span class="math display">\[
M = \begin{cases}
1 &amp; \text{if T = 1}, \\
0 &amp; \text{if T = 0},
\end{cases}
\]</span> where the value of the mediator <span class="math inline">\(M\)</span> also depends on <span class="math inline">\(T\)</span>.</p>
<div class="cell page-columns page-full" data-fig-width="300px" data-fig-height="120px">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">
<div id="fig-mediation" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div>
<svg width="300" height="120" viewbox="0.00 0.00 188.00 67.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 63)">
<title>
Mediation
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-63 184,-63 184,4 -4,4"></polygon> <!-- M --> <g id="node1" class="node">
<title>
M
</title>
<ellipse fill="none" stroke="black" cx="90" cy="-41" rx="18" ry="18"></ellipse> <text text-anchor="middle" x="90" y="-38" font-family="Times,serif" font-size="10.00">M</text> </g> <!-- Y --> <g id="node2" class="node">
<title>
Y
</title>
<ellipse fill="none" stroke="black" cx="162" cy="-18" rx="18" ry="18"></ellipse> <text text-anchor="middle" x="162" y="-15" font-family="Times,serif" font-size="10.00">Y</text> </g> <!-- M&#45;&gt;Y --> <g id="edge1" class="edge">
<title>
M-&gt;Y
</title>
<path fill="none" stroke="black" d="M107.24,-35.67C117.25,-32.37 130.18,-28.13 140.84,-24.62"></path> <polygon fill="black" stroke="black" points="141.42,-25.72 144.37,-23.47 140.66,-23.39 141.42,-25.72"></polygon> </g> <!-- T --> <g id="node3" class="node">
<title>
T
</title>
<ellipse fill="none" stroke="black" cx="18" cy="-18" rx="18" ry="18"></ellipse> <text text-anchor="middle" x="18" y="-15" font-family="Times,serif" font-size="10.00">T</text> </g> <!-- T&#45;&gt;M --> <g id="edge3" class="edge">
<title>
T-&gt;M
</title>
<path fill="none" stroke="black" d="M35.24,-23.33C45.25,-26.63 58.18,-30.87 68.84,-34.38"></path> <polygon fill="black" stroke="black" points="68.66,-35.61 72.37,-35.53 69.42,-33.28 68.66,-35.61"></polygon> </g> <!-- T&#45;&gt;Y --> <g id="edge2" class="edge">
<title>
T-&gt;Y
</title>
<path fill="none" stroke="black" d="M36.24,-18C62.75,-18 111.85,-18 140.22,-18"></path> <polygon fill="black" stroke="black" points="140.41,-19.23 143.91,-18 140.41,-16.78 140.41,-19.23"></polygon> </g> </g>
</svg>
</div>
<figcaption class="figure-caption">Figure&nbsp;2: Graph of mediation analysis. The path between T and Y is the direct effect (<a href="#eq-direct-estimand">Equation&nbsp;<span>4</span></a>). The mediation effect is captured from <span class="math inline">\(T\)</span> to <span class="math inline">\(M\)</span> and then <span class="math inline">\(M\)</span> to <span class="math inline">\(Y\)</span> (<a href="#eq-indirect-estimand">Equation&nbsp;<span>5</span></a>).</figcaption>
</figure>
</div>
</div></div></div>
<div class="page-columns page-full"><p>From the total effect (<a href="#eq-ate2">Equation&nbsp;<span>3</span></a>),<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a> we can start decomposing into the direct and indirect effects.<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a> Apparently there are two different sets of estimands <span class="citation" data-cites="Nguyen2021-oj">(<a href="#ref-Nguyen2021-oj" role="doc-biblioref">Nguyen, Schmid, and Stuart 2021</a>)</span>. (No one told me that…)</p><div class="no-row-height column-margin column-container"><li id="fn7"><p><sup>7</sup>&nbsp;The total effect (TE) is apparently used in place of the ATE in the language of mediation analysis <span class="citation" data-cites="Judd1981-rn Robins1992-ty Imai2010-fu Bullock2010-vb Nguyen2021-oj whatif">(e.g., <a href="#ref-Judd1981-rn" role="doc-biblioref">Judd and Kenny 1981</a>; <a href="#ref-Robins1992-ty" role="doc-biblioref">Robins and Greenland 1992</a>; <a href="#ref-Imai2010-fu" role="doc-biblioref">K. Imai, Keele, and Yamamoto 2010</a>; <a href="#ref-Bullock2010-vb" role="doc-biblioref">Bullock, Green, and Ha 2010</a>; <a href="#ref-Nguyen2021-oj" role="doc-biblioref">Nguyen, Schmid, and Stuart 2021</a>; <a href="#ref-whatif" role="doc-biblioref">Hernan and Robins 2023</a>)</span>.</p></li><li id="fn8"><p><sup>8</sup>&nbsp;While going through a bunch of resources different fields, I came across a suggestion that the direct effect should really be called the unmediated effect (although I was unable to trace back the source). The notion is that the <em>direct effect</em> is no more a direct effect than the residual is a guassian error. If there are unspecified mediation pathway(s), the direct effect will subsume those.</p></li></div></div>
<p>The direct effect is: <span id="eq-direct-estimand"><span class="math display">\[
\zeta(t) \equiv \E\big[Y_i(1, M_i(t))\big] - \E\big[Y_i(0, M_i(t))\big], \qquad t \in \{0, 1\}.
\tag{4}\]</span></span></p>
<p>The indirect effect is: <span id="eq-indirect-estimand"><span class="math display">\[
\delta(t) \equiv \E\big[Y_i(t, M_i(1))\big] - \E\big[Y_i(t, M_i(0))\big], \qquad t \in \{0, 1\}.
\tag{5}\]</span></span></p>
<p>Varying <span class="math inline">\(t\)</span> gives two different sets of estimands for each of <span class="math inline">\(\delta\)</span> and <span class="math inline">\(\zeta\)</span>.</p>
<!-- Set A: ADTE and AITE -->
</section>
<section id="set-a-adte-and-aite" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="set-a-adte-and-aite">Set A: ADTE and AITE</h2>
<p>The first set of estimands for direct and indirect effects are the average direct treatment effect <span id="eq-adte"><span class="math display">\[
ADTE \equiv \zeta(0) = \underbrace{\E\big[Y(1,M(0))\big] - \E\big[Y(0,M(0))\big]}_{\text{effect of $T$ on $Y$ when $M$ is held at M(T=0)}}
\tag{6}\]</span></span> and the average indirect treatment effect. <span id="eq-aite"><span class="math display">\[
AITE \equiv \delta(1) = \underbrace{\E\big[Y(1,M(1))\big] - \E\big[Y(1,M(0))\big]}_{\text{effect of $M$ on $Y$ when $T=1$}}
\tag{7}\]</span></span></p>
<p>The decomposition of the <code>ATE</code> into the two effects follows directly from the <a href="#eq-ate2">Equation&nbsp;<span>3</span></a>:</p>
<div class="column-page">
<p><span class="math display">\[
\begin{align}
\underbrace{\E\big[Y(1, M(1))\big] - \E\big[Y(0, M(0))\big]}_{\text{total effect}}
&amp;= \E\big[Y(1, M(1))\big] \underbrace{- \E\big[Y(1,M(0))\big] + \E\big[Y(1,M(0))\big]}_{\text{additive identity}} - \E\big[Y(0, M(0))\big]\\
&amp;= \underbrace{\E\big[Y(1, M(1))\big] - \E\big[Y(1,M(0))\big]}_{\text{AITE}} + \underbrace{\E\big[Y(1,M(0))\big] - \E\big[Y(0, M(0))\big]}_{\text{ADTE}}
\end{align}
\]</span></p>
</div>
<div class="page-columns page-full"><p>The <code>AITE</code> in particular is therefore also known as the causal mediation effect.<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn9"><p><sup>9</sup>&nbsp;Sometimes <code>ACME</code> (average causal mediation effect) <span class="citation" data-cites="Imai2010-fu">(<a href="#ref-Imai2010-fu" role="doc-biblioref">K. Imai, Keele, and Yamamoto 2010</a>)</span>. ADTE is aka the natural direct effect (NDE). AITE is aka the natural indirect effect (NIE). That’s Pearl’s language <span class="citation" data-cites="Pearl2001-ct">(<a href="#ref-Pearl2001-ct" role="doc-biblioref">Pearl 2001</a>)</span>. Another one is pure direct effect and total indirect effect <span class="citation" data-cites="Robins1992-ty whatif">(e.g., <a href="#ref-Robins1992-ty" role="doc-biblioref">Robins and Greenland 1992</a>; <a href="#ref-whatif" role="doc-biblioref">Hernan and Robins 2023</a>)</span>.</p></li></div></div>
<p>This decomposition is suitable for strong priors about a direct effect but unclear priors on whether an indirect effect also exists. An example could be where <span class="math inline">\(T\)</span> is a STEM degree that raises labor market value <span class="math inline">\(Y\)</span> through some technical competency, but it is unclear whether additional benefits also arise through networking with peers <span class="math inline">\(M\)</span>.</p>
<div class="cell page-columns page-full" data-fig-width="270px" data-fig-height="140px">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">
<div id="fig-aite-adte" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div>
<svg width="270" height="140" viewbox="0.00 0.00 153.00 116.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 112)">
<title>
Mediation
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-112 149,-112 149,4 -4,4"></polygon> <!-- TE --> <g id="node1" class="node">
<title>
TE
</title>
<text text-anchor="middle" x="27" y="-48.8" font-family="Times,serif" font-size="14.00">TE</text> </g> <!-- ADTE --> <g id="node2" class="node">
<title>
ADTE
</title>
<text text-anchor="middle" x="118" y="-85.8" font-family="Times,serif" font-size="14.00">ADTE</text> </g> <!-- TE&#45;&gt;ADTE --> <g id="edge1" class="edge">
<title>
TE-&gt;ADTE
</title>
<path fill="none" stroke="black" d="M54.22,-63.9C64,-67.97 75.2,-72.62 85.41,-76.87"></path> <polygon fill="black" stroke="black" points="84.62,-78.81 90.97,-79.18 86.23,-74.93 84.62,-78.81"></polygon> </g> <!-- AITE --> <g id="node3" class="node">
<title>
AITE
</title>
<text text-anchor="middle" x="118" y="-13.8" font-family="Times,serif" font-size="14.00">AITE</text> </g> <!-- TE&#45;&gt;AITE --> <g id="edge2" class="edge">
<title>
TE-&gt;AITE
</title>
<path fill="none" stroke="black" d="M54.22,-42.69C63.91,-38.88 74.99,-34.52 85.13,-30.53"></path> <polygon fill="black" stroke="black" points="86.15,-32.39 90.97,-28.24 84.61,-28.48 86.15,-32.39"></polygon> </g> <!-- ADTE&#45;&gt;AITE --> <g id="edge3" class="edge">
<title>
ADTE-&gt;AITE
</title>
<path fill="none" stroke="white" d="M118,-71.59C118,-60.71 118,-47 118,-36.17"></path> <text text-anchor="middle" x="106.6" y="-49.8" font-family="Times,serif" font-size="14.00">+</text> </g> </g>
</svg>
</div>
<figcaption class="figure-caption">Figure&nbsp;3: Set A: ADTE and AITE. ADTE is <a href="#eq-direct-estimand">Equation&nbsp;<span>4</span></a> with <span class="math inline">\(t = 0\)</span>—holding <span class="math inline">\(m=0\)</span> and asking what is the direct effect of with <span class="math inline">\(T\)</span>. AITE is <a href="#eq-indirect-estimand">Equation&nbsp;<span>5</span></a> with <span class="math inline">\(t=1\)</span>—holding <span class="math inline">\(t=1\)</span> and asking what is the indirect effect with <span class="math inline">\(M\)</span>.</figcaption>
</figure>
</div>
</div></div></div>
<div class="cell page-columns page-full" data-fig-width="270px" data-fig-height="140px">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">
<div id="fig-adtet-aitec" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div>
<svg width="270" height="140" viewbox="0.00 0.00 160.88 116.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 112)">
<title>
Mediation
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-112 156.88,-112 156.88,4 -4,4"></polygon> <!-- TE --> <g id="node1" class="node">
<title>
TE
</title>
<text text-anchor="middle" x="27" y="-48.8" font-family="Times,serif" font-size="14.00">TE</text> </g> <!-- ADTET --> <g id="node2" class="node">
<title>
ADTET
</title>
<text text-anchor="middle" x="121.94" y="-85.8" font-family="Times,serif" font-size="14.00">ADTET</text> </g> <!-- TE&#45;&gt;ADTET --> <g id="edge1" class="edge">
<title>
TE-&gt;ADTET
</title>
<path fill="none" stroke="black" d="M54.38,-63.5C63.98,-67.33 75,-71.71 85.27,-75.8"></path> <polygon fill="black" stroke="black" points="84.53,-77.77 90.88,-78.04 86.09,-73.86 84.53,-77.77"></polygon> </g> <!-- AITEC --> <g id="node3" class="node">
<title>
AITEC
</title>
<text text-anchor="middle" x="121.94" y="-13.8" font-family="Times,serif" font-size="14.00">AITEC</text> </g> <!-- TE&#45;&gt;AITEC --> <g id="edge2" class="edge">
<title>
TE-&gt;AITEC
</title>
<path fill="none" stroke="black" d="M54.38,-43.06C64.62,-39.21 76.46,-34.75 87.29,-30.67"></path> <polygon fill="black" stroke="black" points="88.32,-32.53 93.19,-28.45 86.84,-28.6 88.32,-32.53"></polygon> </g> <!-- ADTET&#45;&gt;AITEC --> <g id="edge3" class="edge">
<title>
ADTET-&gt;AITEC
</title>
<path fill="none" stroke="white" d="M121.94,-71.59C121.94,-60.71 121.94,-47 121.94,-36.17"></path> <text text-anchor="middle" x="110.54" y="-49.8" font-family="Times,serif" font-size="14.00">+</text> </g> </g>
</svg>
</div>
<figcaption class="figure-caption">Figure&nbsp;4: Set B: ADTET and AITEC.</figcaption>
</figure>
</div>
</div></div></div>
<p>Another example could be where <span class="math inline">\(T\)</span> is a dietary program (e.g., a low-whatever-the-frack-is-the-new-fad diet) that lowers diabetic risk <span class="math inline">\(Y\)</span>, but it is unclear if reduction in diabetic risk also comes from weight loss <span class="math inline">\(M\)</span>. If not, targeting weight loss may be of limited efficacy. This is of practical implication since it informs where and what type of intervention should occur.</p>
<!-- Set B: ADTET and AITEC -->
</section>
<section id="set-b-adtet-and-aitec" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="set-b-adtet-and-aitec">Set B: ADTET and AITEC</h2>
<p>The second set of estimands that decompose the <code>ATE</code> are the average direct treatment effect wrt the treated</p>
<p><span id="eq-adtet"><span class="math display">\[
ADTET \equiv \zeta(1) = \underbrace{\E\big[Y(1,M(1))\big] - \E\big[Y(0, M(1))\big]}_{\text{effect of T when $M$ is held at M(T=1)}}
\tag{8}\]</span></span></p>
<p>and the average indirect treatment effects wrt to controls <span id="eq-aitec"><span class="math display">\[
AITEC \equiv \delta(0) = \underbrace{\E\big[Y(0,M(1))\big] - \E\big[Y(0, M(0))\big]}_{\text{effect of M when $T=0$}}.
\tag{9}\]</span></span></p>
<p>Decompositon again follows directly:</p>
<div class="column-page">
<p><span class="math display">\[
\underbrace{\E\big[Y(1, M(1))\big] - \E\big[Y(0, M(0))\big]}_{\text{total effect}}
= \underbrace{\E\big[Y(1,M(1))\big] - \E\big[Y(0, M(1))\big]}_{\text{ADTET}} + \underbrace{\E\big[Y(0,M(1))\big] - \E\big[Y(0, M(0))\big]}_{\text{AITEC}}.
\]</span></p>
</div>
<p>This decomposition is useful for when there are strong priors about an indirect mediating path, but unclear priors about a direct effect. An example could be where <span class="math inline">\(T\)</span> is an MBA degree with weak connection labor market value <span class="math inline">\(Y\)</span> through some technical competency, but where benefits mainly arise through networking in the MBA program <span class="math inline">\(M\)</span>.</p>
<!-- Differences with traditional mediation analysis -->
</section>
<section id="sec-classical-ma" class="level2">
<h2 class="anchored" data-anchor-id="sec-classical-ma">Classical mediation analysis</h2>
<p>In the classial mediation approach, in addition to</p>
<p><span class="math display">\[
Y_i = \alpha + \beta T_i + \varepsilon_i,
\]</span></p>
<p>two equations are estimated in a structural equation model<span class="citation" data-cites="Baron1986-zn">(<a href="#ref-Baron1986-zn" role="doc-biblioref">Baron and Kenny 1986</a>)</span>. One modelling T and its effect on M. The other modelling the effect of T and M on Y.</p>
<p><span id="eq-classical-med1"><span class="math display">\[
M_i = \alpha_0 + \alpha_1 T_i + \varepsilon_{1i}
\tag{10}\]</span></span> <span id="eq-classical-med2"><span class="math display">\[
Y_i = \beta_0 + \beta_1 T_i + \beta_2 M_i + \varepsilon_{2i}
\tag{11}\]</span></span></p>
<p><a href="#eq-classical-med1">Equation&nbsp;<span>10</span></a> and <a href="#eq-classical-med2">Equation&nbsp;<span>11</span></a> are estimated separately. The mediation effect is observed via the “product-of-coefficients” method as (<span class="math inline">\(\hat{\alpha_1} \hat{\beta_2}\)</span>)—quite literally the effect of <span class="math inline">\(T\)</span> on <span class="math inline">\(M\)</span> multiplied by the effect of <span class="math inline">\(M\)</span> on <span class="math inline">\(Y\)</span>. The direct effect of <span class="math inline">\(T\)</span> on <span class="math inline">\(Y\)</span> would be observed with <span class="math inline">\(\hat{\beta_1}\)</span>.</p>
<p>The conditional analog of this with a set of covariates <span class="math inline">\(\textbf{X}\)</span> should follow closely <span class="citation" data-cites="Judd1981-rn">(<a href="#ref-Judd1981-rn" role="doc-biblioref">Judd and Kenny 1981</a>)</span>.</p>
<!-- Common ground: Classical approach and causal inference approach -->
</section>
<section id="classical-mediation-analysis-common-grounds" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="classical-mediation-analysis-common-grounds">Classical mediation analysis: Common grounds</h2>
<p>How would the causal inference approach with potential outcomes connect to the classical approach?</p>
<p>The reduced form (from <a href="#eq-classical-med1">Equation&nbsp;<span>10</span></a> and <a href="#eq-classical-med2">Equation&nbsp;<span>11</span></a>) is: <span id="eq-sem-rf"><span class="math display">\[
\E\big[Y_i\big|T_i,M_i\big] = \beta_0 + \beta_1 \E[T_i] + \beta_2 \E[M_i].
\tag{12}\]</span></span></p>
<div class="page-columns page-full"><p>Together with the definition of the <code>AITE</code> (<a href="#eq-aite">Equation&nbsp;<span>7</span></a>), this gives <span class="math display">\[
\begin{align}
AITE
&amp;=\E\big[Y_i (1, M_i(1))\big] - \E\big[Y_i (1, M_i(0))\big] \\
&amp;=\Big\{
  \beta_0 + \beta_1 (1) + \beta_2 (\alpha_0 + \alpha_1 (1)
\Big\} -
\Big\{
  \beta_0 + \beta_1 (1) + \beta_2 (\alpha_0)
\Big\}\\
&amp;=\Big\{\alpha_0\beta_2 + \alpha_1\beta_2\Big\} - \Big\{\alpha_0\beta_2 \Big\}\\
&amp;=\alpha_1 \beta_2
\end{align}
\]</span> which is exactly the same mediation effect proposed by the “product-of-coefficients” from the structural equations above (<a href="#sec-classical-ma"><span>Section&nbsp;6</span></a>).<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn10"><p><sup>10</sup>&nbsp;<span class="quarto-unresolved-ref">?sec-si-classical-mediation</span> in the <a href="#supplementary-appendix">Supplementary appendix</a> shows that what falls out from the other three estimands is also consistent with the product of coefficients.</p></li></div></div>
<p>If the classical and causal inference approach both agree on the underlying intuition of mediation, why use potential outcomes? One reason is it helps clarify what the identification assumptions are.</p>
<!-- Biases, bounds, and assumptions -->
</section>
<section id="sec-bias-bounds-assumptions" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="sec-bias-bounds-assumptions">Biases, bounds, and assumptions</h2>
<p>What we can observe in the real world is <span class="math inline">\([Y_i \big|T = t, M = m]\)</span>, <span class="math inline">\(t \in \{0, 1\}\)</span>, <span class="math inline">\(m \in \{0, 1\}\)</span>. We also only observe actualized potential outcomes <span class="math inline">\(Y(t, m)\)</span> for the corresponding <span class="math inline">\(m\)</span> and <span class="math inline">\(t\)</span> values. From the <code>AITE</code> (<a href="#eq-aite">Equation&nbsp;<span>7</span></a>), the observed differences in a mediated effect, given that treatment is “<code>switched on</code>” <span class="math inline">\(t=1\)</span>, is</p>
<div class="column-page">
<p><span class="math display">\[
\begin{align}
&amp;\E\big[Y\big|T=1, M = 1\big] - \E\big[Y\big|T=1, M=0\big] \\
&amp;=\E\big[Y(1,1)\big|T=1, M=1\big] - \E\big[Y(1,0)\big|T=1, M=0\big] \\
&amp;=\E\big[Y(1,1)\big|M=1\big] - \E\big[Y(1,0)\big|M=0\big]  \qquad\qquad (\text{from }Y_i(t,m) \ind T_i)
\end{align}
\]</span></p>
</div>
<p>where, even given randomization of <span class="math inline">\(T\)</span> (analagous to <a href="#eq-independence-assumption">Equation&nbsp;<span>2</span></a> in the un-mediated case), the selection issue with <span class="math inline">\(M\)</span> persists. It will carry its own selection bias unless additional assumptions are imposed. The above only reduces to the <code>AITE</code> by imposing additional assumption on the statistical independence of <span class="math inline">\(M\)</span>,</p>
<div class="column-page">
<p><span id="eq-med-selection-bias"><span class="math display">\[
\begin{align}
&amp;\E\big[Y(1,1)\big|M=1\big] - \E\big[Y(1,0)\big|M=0\big]\\
&amp;= \E\big[Y(1,1)\big|M=1\big] - \underbrace{\E\big[Y(1, 0)\big|M=1\big] + \E\big[Y(1, 0)\big|M=1\big]}_{\text{additive identity}} - \E\big[Y(1,0)\big|M=0\big]  \\
&amp;=\underbrace{\E\big[Y(1,1) - Y(1, 0)\Big|M=1\big]}_{\text{analog to AITE}} + \underbrace{\E\big[Y(1, 0)\big|M=1\big] - \E\big[Y(1,0)\big|M=0\big]}_{\text{selection into M}}
\end{align}
\tag{13}\]</span></span></p>
</div>
<div class="page-columns page-full"><p>where <span class="math inline">\(E[Y(1, 0)|M=1]\)</span> in the first equality is a counterfactual—what would potential outcome be for people with the <span class="math inline">\(M\)</span> <code>switched off</code> <span class="math inline">\(m=0\)</span> given that it is actually <code>switched on</code> <span class="math inline">\(m=1\)</span> (<em>concrete example</em> later below). The second equality collects terms into the underlying mediation effect and an <strong>additional bias component</strong>.<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn11"><p><sup>11</sup>&nbsp;<span class="quarto-unresolved-ref">?sec-bias-bounds-assumptions-algebra</span> in the <a href="#supplementary-appendix">Supplementary appendix</a> offer an alternative algebraic insight of the bias.</p></li></div></div>
<div class="page-columns page-full"><p>There is a tendency for the bias to be positive, and, therefore overstate the mediation effect. Take as <em>concrete example</em>, a case where we are interested in child income <span class="math inline">\(Y\)</span>, parent income <span class="math inline">\(T\)</span>, and college attendance <span class="math inline">\(M\)</span> in a classic case of intergenerational income mobility. Parent income affects child income, but also potentially through access to better education. The first part of the bias is the counterfactual of the potential income of the child of not going to college, given that she did. Conditional on parent income, the child that goes to college should have qualities (non-existent in the child that never goes to college) that would be helpful for labor market success, and, to this extent, suggest that the bias component is <span class="math inline">\(&gt; 0\)</span>. Hence, without intervenening on the assignment of <span class="math inline">\(M\)</span>, the estimated mediation effect tends to be, but may still be useful to provide optimistic <strong>bounds</strong> for the underlying mediation effect.<a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn12"><p><sup>12</sup>&nbsp;This <em>bound</em> is <em>not</em> a statistical property but based on reasoning about what the plausible potential outcomes are from on domain understanding.</p></li></div></div>
<p>The last line in <a href="#eq-med-selection-bias">Equation&nbsp;<span>13</span></a> only reduces to the true <code>AITE</code> by imposing additional <strong>assumptions</strong>.</p>
<p><span id="eq-seq-ignorability1"><span class="math display">\[
\Big\{ Y_i(t, m), M_i(t')\Big\} \ind T_i
\tag{14}\]</span></span> <span id="eq-seq-ignorability2"><span class="math display">\[
\big[Y_i(t', m) \ind M_i(t)\big] \Big| T_i = t
\tag{15}\]</span></span></p>
<div class="page-columns page-full"><p>First, for a causal interpretation, the treatment assignment <span class="math inline">\(T\)</span> has to be statistically orthogonal to the potential outcomes and the potential mediators. This should usually be satisfied with randomization of <span class="math inline">\(T\)</span> as in the usual unmediated case (<a href="#sec-un-mediated-treatment-effects"><span>Section&nbsp;2</span></a>). Second, given the actual value <span class="math inline">\(T_i = t\)</span>, the mediator <span class="math inline">\(M\)</span> should be statistically orthogonal to the potential outcome. The proposed solution to achieve this is to subject <span class="math inline">\(M\)</span> to experimental manipulation, just as with <span class="math inline">\(T\)</span>.<a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a> The above is the <code>sequential ignorability assumption</code> since they are made <em>sequentially</em> <span class="citation" data-cites="Imai2010-fu">(<a href="#ref-Imai2010-fu" role="doc-biblioref">K. Imai, Keele, and Yamamoto 2010</a>)</span>.</p><div class="no-row-height column-margin column-container"><li id="fn13"><p><sup>13</sup>&nbsp;<span class="quarto-unresolved-ref">?sec-heterogeneities</span> in the <a href="#supplementary-appendix">Supplementary appendix</a> shows an example of how the AITE cannot be identified even with randomization if heterogeneities in effects exist.</p></li></div></div>
<p>In addition, there is an (slighly more subtle) assumption with the common data support <span class="math inline">\(T\)</span> (and <span class="math inline">\(M\)</span>). <span class="math display">\[
\exists \theta &gt; 0: \ \theta \leq \E \left[ T_i = t \right] \leq (1-\theta), \qquad t \in \{0, 1\}
\]</span> With an additional modeling of mediation, an additional assumption applies to the mediator: <span class="math display">\[
\exists \eta &gt; 0: \ \eta \leq \E \left[ M_i = m \big| T_i = t \right] \leq (1-\eta), \qquad t \in \{0, 1\}.
\]</span></p>
<p>Loosely speaking, with mediation, twice the identification assumptions are needed.</p>


<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-Angrist2009-oz" class="csl-entry" role="listitem">
Angrist, Joshua D, and Jörn-Steffen Pischke. 2009. <em>Mostly Harmless Econometrics: An Empiricist’s Companion</em>. Princeton University Press.
</div>
<div id="ref-Baron1986-zn" class="csl-entry" role="listitem">
Baron, Reuben M, and David A Kenny. 1986. <span>“The Moderator–Mediator Variable Distinction in Social Psychological Research: Conceptual, Strategic, and Statistical Considerations.”</span> <em>J. Pers. Soc. Psychol.</em> 51 (6): 1173–82. <a href="https://doi.org/10.1037/0022-3514.51.6.1173">https://doi.org/10.1037/0022-3514.51.6.1173</a>.
</div>
<div id="ref-Bullock2010-vb" class="csl-entry" role="listitem">
Bullock, John G, Donald P Green, and Shang E Ha. 2010. <span>“Yes, but What’s the Mechanism? (Don’t Expect an Easy Answer).”</span> <em>J. Pers. Soc. Psychol.</em> 98 (4): 550–58. <a href="https://doi.org/10.1037/a0018933">https://doi.org/10.1037/a0018933</a>.
</div>
<div id="ref-whatif" class="csl-entry" role="listitem">
Hernan, Miguel A, and James M Robins. 2023. <em>Causal Inference</em>. CRC Press.
</div>
<div id="ref-Holland1986-yr" class="csl-entry" role="listitem">
Holland, Paul W. 1986. <span>“Statistics and Causal Inference.”</span> <em>J. Am. Stat. Assoc.</em> 81 (396): 945–60. <a href="https://doi.org/10.2307/2289064">https://doi.org/10.2307/2289064</a>.
</div>
<div id="ref-Imai2010-fu" class="csl-entry" role="listitem">
Imai, K, L Keele, and T Yamamoto. 2010. <span>“Identification, Inference and Sensitivity Analysis for Causal Mediation Effects.”</span> <a href="https://projecteuclid.org/journals/statistical-science/volume-25/issue-1/Identification-Inference-and-Sensitivity-Analysis-for-Causal-Mediation-Effects/10.1214/10-STS321.short">https://projecteuclid.org/journals/statistical-science/volume-25/issue-1/Identification-Inference-and-Sensitivity-Analysis-for-Causal-Mediation-Effects/10.1214/10-STS321.short</a>.
</div>
<div id="ref-Imai2010-tg" class="csl-entry" role="listitem">
Imai, Kosuke, Luke Keele, and Dustin Tingley. 2010. <span>“A General Approach to Causal Mediation Analysis.”</span> <em>Psychol. Methods</em> 15 (4): 309–34. <a href="https://doi.org/10.1037/a0020761">https://doi.org/10.1037/a0020761</a>.
</div>
<div id="ref-Imbens2004-tp" class="csl-entry" role="listitem">
Imbens, Guido W. 2004. <span>“Nonparametric Estimation of Average Treatment Effects Under Exogeneity: A Review.”</span> <em>Rev. Econ. Stat.</em> 86 (1): 4–29. <a href="https://doi.org/10.1162/003465304323023651">https://doi.org/10.1162/003465304323023651</a>.
</div>
<div id="ref-Judd1981-rn" class="csl-entry" role="listitem">
Judd, Charles M, and David A Kenny. 1981. <span>“Process Analysis: Estimating Mediation in Treatment Evaluations.”</span> <em>Eval. Rev.</em> 5 (5): 602–19. <a href="https://doi.org/10.1177/0193841X8100500502">https://doi.org/10.1177/0193841X8100500502</a>.
</div>
<div id="ref-MacKinnon2012-jl" class="csl-entry" role="listitem">
MacKinnon, D. 2012. <span>“Introduction to Statistical Mediation Analysis.”</span>
</div>
<div id="ref-Nguyen2021-oj" class="csl-entry" role="listitem">
Nguyen, Trang Quynh, Ian Schmid, and Elizabeth A Stuart. 2021. <span>“Clarifying Causal Mediation Analysis for the Applied Researcher: Defining Effects Based on What We Want to Learn.”</span> <em>Psychol. Methods</em> 26 (2): 255–71. <a href="https://doi.org/10.1037/met0000299">https://doi.org/10.1037/met0000299</a>.
</div>
<div id="ref-Pearl2001-ct" class="csl-entry" role="listitem">
Pearl, Judea. 2001. <span>“Direct and Indirect Effects.”</span> In <em>Proceedings of the Seventeenth Conference on Uncertainty in Artificial Intelligence</em>, 411–20. UAI’01. San Francisco, CA, USA: Morgan Kaufmann Publishers Inc. <a href="https://dl.acm.org/doi/10.5555/2074022.2074073">https://dl.acm.org/doi/10.5555/2074022.2074073</a>.
</div>
<div id="ref-Robins1992-ty" class="csl-entry" role="listitem">
Robins, James M, and Sander Greenland. 1992. <span>“Identifiability and Exchangeability for Direct and Indirect Effects.”</span> <em>Epidemiology</em> 3 (2): 143–55. <a href="http://www.jstor.org/stable/3702894">http://www.jstor.org/stable/3702894</a>.
</div>
<div id="ref-Stuart2022-bm" class="csl-entry" role="listitem">
Stuart, Elizabeth A, Elizabeth L Ogburn, Ian Schmid, and Trang Quynh Nguyen. 2022. <span>“Clarifying Causal Mediation Analysis: Effect Identification via Three Assumptions and Five Potential Outcomes.”</span> <em>Journal of Causal Inference</em> 10 (1): 246–79. <a href="https://doi.org/10.1515/jci-2021-0049">https://doi.org/10.1515/jci-2021-0049</a>.
</div>
</div>
</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>